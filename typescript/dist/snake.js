!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.snake=t():e.snake=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=2)}([function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var i;!function(e){e[e.Up=1]="Up",e[e.Down=2]="Down",e[e.Left=3]="Left",e[e.Right=4]="Right"}(i||(i={})),t.Direction=i;var u=function(){function e(){r(this,e)}return o(e,null,[{key:"reverse",value:function(e,t){return e==t}},{key:"syntropy",value:function(e,t){return e==i.Up&&t==i.Down||e==i.Right&&t==i.Left||e==i.Down&&t==i.Up||e==i.Left&&t==i.Right}}]),e}();t.DirectionTools=u},function(e,t,n){"use strict";function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var u=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var u=o.get;if(void 0!==u)return u.call(r)},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var c=n(0),l=function(){function e(t,n){i(this,e),this.x=t,this.y=n}return a(e,null,[{key:"equal",value:function(e,t){return e.x===t.x&&t.y===t.y}},{key:"clone",value:function(t){return new e(t.x,t.y)}},{key:"getCellByDirection",value:function(t,n){return c.Direction.Down==n?new e(t.x,t.y-1):c.Direction.Up==n?new e(t.x,t.y+1):c.Direction.Left==n?new e(t.x-1,t.y):c.Direction.Right==n?new e(t.x+1,t.y):void 0}}]),e}();t.Cell=l;var s=function(e){function t(e,n){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return o(t,e),a(t,null,[{key:"clone",value:function(e){return new t(e.x,e.y)}},{key:"getCellByDirection",value:function(e,n){return this.clone(u(t.__proto__||Object.getPrototypeOf(t),"getCellByDirection",this).call(this,e,n))}}]),t}(l);t.ReadOnlyCell=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3);t.Game=r.Game},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),u=n(5),a=n(0),c=n(7),l=function(){function e(t){var n=t.width,o=void 0===n?10:n,c=t.height,l=void 0===c?10:c,s=t.headerPostion,f=t.direction,h=t.bodyLength,y=void 0===h?3:h;r(this,e),f&&(f=a.Direction.Up),s&&(s={x:Math.floor(o/2),y:Math.floor(l/2)}),this.snake=new i.Snake({headerPostion:s,direction:f,bodyLength:y}),this.ground=new u.Ground(o,l)}return o(e,[{key:"makeFoot",value:function(){var e=this.ground.getRoadomUnmarkCell(1)[0];this.foods.push(new c.Food(e.x,e.y,1))}},{key:"frame",value:function(){this.ground.rest(),this.ground.print(this.foods,this.snake.header,this.snake.body);var e=this.snake.move(this.foods);if(e){this.foods=this.foods.filter(function(t){return t!=e});var t=this.ground.getRoadomUnmarkCell(1)[0];this.foods.push(new c.Food(t.x,t.y,1))}}}]),e}();t.Game=l},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),u=n(1),a=function(){function e(t){r(this,e),this.$defluatOption={direction:i.Direction.Up,bodyLength:3};var n=Object.assign({},this.$defluatOption,t);this.$direction=n.direction,this.$header=new u.Cell(n.headerPostion.x,n.headerPostion.y),this.$direction=n.direction,this.$body=[];for(var o=this.$header,a=0;a<n.bodyLength;a++)o=u.Cell.getCellByDirection(o,this.$direction),this.$body.push(o)}return o(e,[{key:"move",value:function(e){this.$willTrunDirection!=this.$direction&&(this.$direction=this.$willTrunDirection);var t=this.canEat(e);return t?this.eat(t):this.$move(),t}},{key:"$move",value:function(){this.$growAmount>0?(this.$body.unshift(this.$header),this.$header=u.Cell.getCellByDirection(this.$header,this.$direction),this.$growAmount--):(this.$body.unshift(this.$header),this.$body.pop(),this.$header=u.Cell.getCellByDirection(this.$header,this.$direction))}},{key:"trun",value:function(e){i.DirectionTools.reverse(e,this.$direction)||(this.$willTrunDirection=e)}},{key:"canEat",value:function(e){Array.isArray(e)||(e=[e]);var t=u.Cell.getCellByDirection(this.$header,this.$direction);return e.filter(function(e){return u.Cell.equal(e,t)})[0]||null}},{key:"eat",value:function(e){this.$growAmount+=e.grow,this.$move()}},{key:"isDead",value:function(){var e=this;return this.$body.every(function(t){return!u.Cell.equal(e.$header,t)})}},{key:"header",get:function(){return u.ReadOnlyCell.clone(this.$header)}},{key:"body",get:function(){return this.$body.map(function(e){return u.ReadOnlyCell.clone(e)})}},{key:"direction",get:function(){return this.$direction}},{key:"growAmount",get:function(){return this.$growAmount}}]),e}();t.Snake=a},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),u=n(6),a=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;r(this,e),this.width=t,this.height=n,this.cells=[];for(var o=0;o<t;o++)for(;o<n;o++)this[o][0]=!1}return o(e,[{key:"inGround",value:function(e){return 0<=e.x&&this.width>e.x&&0<=e.y&&this.height>e.y}},{key:"rest",value:function(){for(var e=0;e<this.width;e++)for(;e<this.height;e++)this[e][0]=!1}},{key:"print",value:function(){for(var e=this,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];n.forEach(function(t){Array.isArray(t)?t.forEach(function(t){e.cells[t.x][t.y]=!0}):e.cells[t.x][t.y]=!0})}},{key:"getUnmarkCell",value:function(){for(var e,t=[];e<this.width;e++)for(var n;n<this.height;n++)this.cells[e][n]||t.push(new i.Cell(e,n));return t}},{key:"getRoadomUnmarkCell",value:function(e){var t=this.getUnmarkCell();return u.randomChoose(t,e)}}]),e}();t.Ground=a},function(e,t,n){"use strict";function r(e){var t;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:t=function(e){return(e=(9301*e+49297)%233280)/233280};case 1:return n.next=4,e=t(e);case 4:e*=1e3;case 5:n.next=1;break;case 7:case"end":return n.stop()}},o,this)}var o=regeneratorRuntime.mark(r);Object.defineProperty(t,"__esModule",{value:!0}),t.random=function(e){var t=r(e);return function(){return t.next().value}},t.randomChoose=function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Date.now(),o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){return!0};n=Math.min(n,e.length);var i=[],u=[];e.map(function(e,t){return i.push(t)});for(var a=t.random(r),c=e.length,l=0;l<c&&n>u.length;l++){var s=Math.floor(i.length*a()),f=i.splice(s,1)[0];!1!==o(e[f])&&u.push(f)}return u.map(function(t){return e[t]})}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),c=function(e){function t(e,n,i){r(this,t);var u=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return u.$grow=i,u}return i(t,e),u(t,[{key:"grow",get:function(){return this.$grow}}]),u(t,[{key:"clone",value:function(){return new t(this.x,this.y,this.grow)}}]),t}(a.Cell);t.Food=c}])});
//# sourceMappingURL=snake.js.map